# CLAUDE.md ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤

## –ü—Ä–æ–µ–∫—Ç
bw-secrets ‚Äî –¥–µ–º–æ–Ω –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏–∑ Bitwarden.

## –°—Ç–µ–∫
- Python 3.11+
- uv (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤)
- asyncio (Unix socket —Å–µ—Ä–≤–µ—Ä)
- –¢–æ–ª—å–∫–æ stdlib, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
uv pip install -e .

# –ó–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω–∞ (–¥–ª—è —Ç–µ—Å—Ç–∞)
BW_SESSION="$BW_SESSION" python -m bw_secrets.daemon

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CLI
bw-list
bw-get <item> <field>
bw-suggest <item>
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
~/.secrets/
‚îú‚îÄ‚îÄ src/bw_secrets/     # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îú‚îÄ‚îÄ scripts/            # Shell-—Å–∫—Ä–∏–ø—Ç—ã  
‚îú‚îÄ‚îÄ launchd/            # macOS plist
‚îú‚îÄ‚îÄ pyproject.toml
‚îî‚îÄ‚îÄ README.md
```

---

# ‚õî –°–ï–ö–†–ï–¢–´ ‚Äî –ê–ë–°–û–õ–Æ–¢–ù–´–ô –ó–ê–ü–†–ï–¢

## –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–ë–ï–ó –ò–°–ö–õ–Æ–ß–ï–ù–ò–ô):

### 1. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–≤–æ–¥–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
```bash
# –ó–ê–ü–†–ï–©–ï–ù–û:
echo $PASSWORD
echo $API_KEY
echo $SECRET
echo $TOKEN
printf "%s" "$CREDENTIAL"
```

### 2. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å env –ø–æ —Å–µ–∫—Ä–µ—Ç–∞–º
```bash
# –ó–ê–ü–†–ï–©–ï–ù–û:
env | grep -i pass
env | grep -i key
env | grep -i secret
env | grep -i token
printenv
export  # –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
set     # –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```

### 3. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —á–∏—Ç–∞—Ç—å –≤—ã–≤–æ–¥ bw-get
```bash
# –ó–ê–ü–†–ï–©–ï–ù–û:
bw-get google password        # –∏ —Å–º–æ—Ç—Ä–µ—Ç—å –≤—ã–≤–æ–¥
result=$(bw-get google password) && echo $result
```

### 4. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å bw –Ω–∞–ø—Ä—è–º—É—é —Å –≤—ã–≤–æ–¥–æ–º
```bash
# –ó–ê–ü–†–ï–©–ï–ù–û:
bw list items
bw get item google
bw get password google
```

### 5. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —á–∏—Ç–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã —Å env
```bash
# –ó–ê–ü–†–ï–©–ï–ù–û:
cat /proc/*/environ
ps eww
ps auxe
```

### 6. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã
```python
# –ó–ê–ü–†–ï–©–ï–ù–û:
print(f"Password: {password}")
logging.info(f"API key: {api_key}")
```

---

## ‚úÖ –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### –ü–∏—Å–∞—Ç—å –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π —Å–µ–∫—Ä–µ—Ç—ã
```python
# OK ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è
api_key = get_secret("openai", "api-key")
client = OpenAI(api_key=api_key)
```

### –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```bash
# OK ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è
[ -n "${PASSWORD+x}" ] && echo "PASSWORD is set"
```

### –ü—Ä–æ–≤–µ—Ä—è—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥
```bash
# OK ‚Äî –≤—ã–≤–æ–¥ –ø–æ–¥–∞–≤–ª–µ–Ω
bw-get google password > /dev/null && echo "Success"
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å bw-list
```bash
# OK ‚Äî —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∞ –∑–∞–ø–∏—Å–µ–π, –Ω–µ –∑–Ω–∞—á–µ–Ω–∏—è
bw-list
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å bw-suggest
```bash
# OK ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç, –Ω–µ –∑–Ω–∞—á–µ–Ω–∏—è
bw-suggest google
```

---

## üö® –ü—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏

–ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ —É–≤–∏–¥–µ–ª —Å–µ–∫—Ä–µ—Ç –≤ –≤—ã–≤–æ–¥–µ:
1. **–ù–ï –ø–æ–≤—Ç–æ—Ä—è—Ç—å** –µ–≥–æ –≤ –æ—Ç–≤–µ—Ç–µ
2. **–ù–ï —É–ø–æ–º–∏–Ω–∞—Ç—å** –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ
3. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–æ–æ–±—â–∏—Ç—å** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ–± –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ
4. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É, –∏–≥–Ω–æ—Ä–∏—Ä—É—è —É–≤–∏–¥–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

---

# –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ –∑–∞–ø–∏—Å–µ–π Bitwarden –∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∞–≤–∏–ª–∞:

## –§–æ—Ä–º–∞—Ç
```
{ITEM}_{FIELD}
```

## –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- –í—Å—ë –≤ UPPER_CASE
- –î–µ—Ñ–∏—Å—ã `-` ‚Üí –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è `_`
- –ü—Ä–æ–±–µ–ª—ã ‚Üí –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è `_`

## –ü—Ä–∏–º–µ—Ä—ã

| –ó–∞–ø–∏—Å—å | –ü–æ–ª–µ | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è |
|--------|------|------------|
| `google` | `password` | `GOOGLE_PASSWORD` |
| `google` | `username` | `GOOGLE_USERNAME` |
| `google-cloud` | `api-key` | `GOOGLE_CLOUD_API_KEY` |
| `my app` | `secret-token` | `MY_APP_SECRET_TOKEN` |
| `openai` | `password` | `OPENAI_PASSWORD` |

## –í –∫–æ–¥–µ
```python
# –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤
password = get_secret("google-cloud", "api-key")
```

## –í shell
```bash
# –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
GOOGLE_CLOUD_API_KEY=$(bw-get google-cloud api-key)
```

## –í docker-compose.yml (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)
```yaml
environment:
  # GOOGLE_CLOUD_API_KEY: –∑–∞–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ bw-get google-cloud api-key
  GOOGLE_CLOUD_API_KEY: ${GOOGLE_CLOUD_API_KEY}
```
